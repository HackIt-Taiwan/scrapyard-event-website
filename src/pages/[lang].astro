---
import { listLocales, getString } from "../i18n";
export function getStaticPaths() {
  return listLocales().map((locale) => {
    return {
      params: {
        lang: locale,
      },
    };
  });
}

import { Image } from "astro:assets";

import Layout from "@layouts/Layout.astro";

import cuttingMat from "@assets/cuttingMat.png";
import banner from "@assets/banner-resized.png";
import rippedPaper from "@assets/rippedPaper.png";

const t = getString(Astro.params.lang);
---

<Layout title="Scrapyard TW 2024" longerTitle="Scrapyard 2024 @ TW">
  {/* Hero section */}
  <div
    class="-z-20 min-h-screen bg-cover bg-top bg-no-repeat drop-shadow-lg transition-all duration-500"
    id="js:hero"
    style={{ backgroundImage: `url('${cuttingMat.src}')` }}
  >
    <div
      class="flex h-screen w-full flex-col place-items-center justify-center"
    >
      <h1
        class="px-6 text-center text-3xl font-bold text-white/60 md:text-4xl xl:text-5xl"
      >
        {t("home.title")}
      </h1>
      <Image
        src={banner}
        alt="Cutting Matter"
        class="h-44 w-auto p-6 drop-shadow-2xl sm:h-56 md:h-fit"
      />

      <p class="pt-16 text-center text-xl text-white md:text-2xl xl:text-3xl">
        {t("home.subtitle1")}
      </p><p class="text-center text-xl text-white md:text-2xl xl:text-3xl">
        {t("home.subtitle2")}
      </p>
    </div>
  </div>

  <div class="pb-8 pt-12">
    <div class="mx-auto max-w-6xl px-6">
      {/* Content */}
      <div>
        <div class="grid grid-cols-1 gap-6 pt-4 lg:grid-cols-3">
          <div class="rounded-xl bg-green-400 p-8 drop-shadow-md">
            <p class="text-3xl font-bold">{t("info.col1.date")}</p>
            <p class="text-xl text-gray-800">{t("info.col1")}</p>
          </div><div class="rounded-xl bg-blue-400 p-8 drop-shadow-md">
            <p class="text-3xl font-bold">{t("info.col2.date")}</p>
            <p class="text-xl text-gray-800">{t("info.col2")}</p>
          </div><div class="rounded-xl bg-amber-400 p-8 drop-shadow-md">
            <p class="text-3xl font-bold">{t("info.col3.date")}</p>
            <p class="text-xl text-gray-800">{t("info.col3")}</p>
          </div>
        </div>
      </div>

      <h2
        class="border-b-2 border-green-400 pb-3 pt-8 text-3xl font-bold md:text-4xl"
      >
        {t("schedule.title")}
      </h2>
      <div class="grid grid-cols-1 gap-6 pt-4 text-center lg:grid-cols-2">
        <div class="h-[22rem]">
          <h3 class="py-4 text-xl font-bold md:text-2xl">
            {t("schedule.day1")}
          </h3>
          <table class="h-full w-full table-fixed">
            <tr class="text-2xl *:py-3">
              <th>{t("schedule.time")}</th>
              <th>{t("schedule.event")}</th>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.a")}</td>
              <td>{t("schedule.day1.event.a")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.b")}</td>
              <td>{t("schedule.day1.event.b")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.c")}</td>
              <td>{t("schedule.day1.event.c")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.d")}</td>
              <td>{t("schedule.day1.event.d")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.e")}</td>
              <td>{t("schedule.day1.event.e")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.f")}</td>
              <td>{t("schedule.day1.event.f")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day1.time.g")}</td>
              <td>{t("schedule.day1.event.g")}</td>
            </tr>
          </table>
        </div>
        <div>
          <h3 class="py-4 text-xl font-bold md:text-2xl">
            {t("schedule.day2")}
          </h3>
          <table class="h-full w-full table-fixed">
            <tr class="text-2xl *:py-3">
              <th>{t("schedule.time")}</th>
              <th>{t("schedule.event")}</th>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day2.time.a")}</td>
              <td>{t("schedule.day2.event.a")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day2.time.b")}</td>
              <td>{t("schedule.day2.event.b")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day2.time.c")}</td>
              <td>{t("schedule.day2.event.c")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day2.time.d")}</td>
              <td>{t("schedule.day2.event.d")}</td>
            </tr>
            <tr class="text-lg *:px-6 *:py-1">
              <td>{t("schedule.day2.time.e")}</td>
              <td>{t("schedule.day2.event.e")}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>
  window.addEventListener(
    "scroll",
    () => {
      if (window.scrollY > 0) {
        document
          .getElementById("js:hero")
          ?.classList.add("md:rounded-b-3xl", "md:mx-5");
      } else {
        document
          .getElementById("js:hero")
          ?.classList.remove("md:rounded-b-3xl", "md:mx-5");
      }
    },
    true,
  );
</script>

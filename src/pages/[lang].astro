---
import { listLocales, getString } from "../i18n";
export function getStaticPaths() {
  return listLocales().map((locale) => {
    return {
      params: {
        lang: locale,
      },
    };
  });
}

import { Image } from "astro:assets";

import Layout from "@layouts/Layout.astro";

import cuttingMat from "@assets/cuttingMat.png";
import banner from "@assets/banner-resized.png";
import rippedPaper from "@assets/rippedPaper.png";
import { twMerge } from "tailwind-merge";

const t = getString(Astro.params.lang);
---

<Layout
  title={t("meta.title")}
  longerTitle={t("meta.longerTitle")}
  description={t("meta.description")}
>
  <div
    class="-z-20 min-h-screen bg-cover bg-top bg-no-repeat drop-shadow-lg transition-all duration-500"
    id="js:hero"
    style={{ backgroundImage: `url('${cuttingMat.src}')` }}
  >
    {
      Astro.params.lang === "us" && (
        <div class="absolute top-6 z-10 w-full">
          <div class="mx-auto w-fit rounded-lg bg-orange-400 px-8 py-4 drop-shadow-lg">
            <p>你是台灣人嗎？點一下右下角的國旗來換語言！</p>
          </div>
        </div>
      )
    }
    <div
      class="flex h-screen w-full flex-col place-items-center justify-center"
    >
      <h1
        class="px-6 text-center text-3xl font-bold text-white/60 select-none md:text-4xl xl:text-5xl"
      >
        {t("home.title")}
      </h1>
      <Image
        src={banner}
        alt="Cutting Matter"
        class="h-44 w-auto p-6 drop-shadow-2xl sm:h-56 md:h-fit"
      />

      <p class="pt-16 text-center text-xl text-white md:text-2xl xl:text-3xl">
        {t("home.subtitle1")}
      </p><p class="pt-2 text-center text-lg text-white md:text-xl xl:text-2xl">
        {t("home.subtitle2")}
      </p>
    </div>
  </div>

  <div class="pt-12 pb-8">
    <div class="mx-auto max-w-6xl px-6">
      <div>
        <div class="grid grid-cols-1 gap-6 pt-4 lg:grid-cols-3">
          <div class="rounded-xl bg-green-400 p-8 drop-shadow-md">
            <p class="text-3xl font-bold">{t("info.col1.date")}</p>
            <p class="text-xl text-gray-800">{t("info.col1")}</p>
          </div><div class="rounded-xl bg-blue-400 p-8 drop-shadow-md">
            <p class="text-3xl font-bold">{t("info.col2.date")}</p>
            <p class="text-xl text-gray-800">{t("info.col2")}</p>
          </div><div class="rounded-xl bg-amber-400 p-8 drop-shadow-md">
            <p class="text-3xl font-bold">{t("info.col3.date")}</p>
            <p class="text-xl text-gray-800">{t("info.col3")}</p>
          </div>
        </div>
      </div>

      <h2
        class="border-b-2 border-blue-400 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("about.title")}
      </h2>
      <p class="text-md py-4 leading-8 md:text-lg">
        {t("about.content")}
      </p>

      <h2
        class="border-b-2 border-fuchsia-800 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("about.scrapyard.title")}
      </h2>
      <p class="text-md pt-4 leading-8 md:text-lg">
        {t("about.scrapyard.content1")}
      </p><p class="text-md pb-4 leading-8 md:text-lg">
        {t("about.scrapyard.content2")}
      </p>

      <h2
        class="border-b-2 border-fuchsia-800 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("apply.restrict.title")}
      </h2>
      <div class="py-4">
        <ol
          class={twMerge(
            "list-inside leading-8",
            Astro.params.lang === "tw"
              ? "list-[cjk-ideographic]"
              : "list-decimal",
          )}
        >
          <li>
            {t("apply.restrict.content.student.title")}<ul
              class="list-inside list-disc"
            >
              <li>
                {t("apply.restrict.content.student.content1")}
              </li><li>
                {t("apply.restrict.content.student.content2")}
              </li><li>
                {t("apply.restrict.content.student.content3")}
              </li>
            </ul>
          </li>
          <li>{t("apply.restrict.content.team.title")}</li>
          <li>{t("apply.restrict.content.teacher")}</li>
        </ol>
      </div>

      <h2
        class="border-b-2 border-gray-600 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("flow.title")}
      </h2>
      <p class="text-md pt-4 leading-8 md:text-lg">
        {t("flow.content1")}
      </p>
      <ul class="list-inside list-disc leading-8">
        <li>{t("flow.content1.sub1")}</li>
        <li>{t("flow.content1.sub2")}</li>
        <li>{t("flow.content1.sub3")}</li>
      </ul>

      <h2
        class="border-b-2 border-green-800 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("prize.title")}
      </h2>
      <div>
        <div class="grid grid-cols-1 gap-6 pt-4 text-white lg:grid-cols-3">
          <div
            class="rounded-xl bg-gradient-to-r from-gray-900 to-gray-800 p-8 drop-shadow-md"
          >
            <p class="text-3xl font-bold">{t("prize.first")}</p>
            <p class="text-xl">{t("prize.first.content")}</p>
          </div><div
            class="rounded-xl bg-gradient-to-r from-gray-800 to-gray-700 p-8 drop-shadow-md"
          >
            <p class="text-3xl font-bold">{t("prize.second")}</p>
            <p class="text-xl">{t("prize.second.content")}</p>
          </div><div
            class="rounded-xl bg-gradient-to-r from-gray-700 to-gray-600 p-8 drop-shadow-md"
          >
            <p class="text-3xl font-bold">{t("prize.third")}</p>
            <p class="text-xl">{t("prize.third.content")}</p>
          </div>
        </div>
      </div>

      <h2
        class="border-b-2 border-green-800 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("schedule.title")}
      </h2>
      <div class="grid grid-cols-1 gap-6 pt-4 text-center lg:grid-cols-2">
        <div>
          <h3 class="py-4 text-xl font-bold md:text-2xl">
            {t("schedule.day1")}
          </h3>
          <table class="w-full table-fixed">
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.a")}</td>
              <td>{t("schedule.day1.event.a")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.b")}</td>
              <td>{t("schedule.day1.event.b")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.c")}</td>
              <td>{t("schedule.day1.event.c")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.d")}</td>
              <td>{t("schedule.day1.event.d")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.e")}</td>
              <td>{t("schedule.day1.event.e")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.f")}</td>
              <td>{t("schedule.day1.event.f")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day1.time.g")}</td>
              <td>{t("schedule.day1.event.g")}</td>
            </tr>
          </table>
        </div>
        <div>
          <h3 class="py-4 text-xl font-bold md:text-2xl">
            {t("schedule.day2")}
          </h3>
          <table class="w-full table-fixed">
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day2.time.a")}</td>
              <td>{t("schedule.day2.event.a")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day2.time.b")}</td>
              <td>{t("schedule.day2.event.b")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day2.time.c")}</td>
              <td>{t("schedule.day2.event.c")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day2.time.d")}</td>
              <td>{t("schedule.day2.event.d")}</td>
            </tr>
            <tr class="text-lg *:py-1">
              <td>{t("schedule.day2.time.e")}</td>
              <td>{t("schedule.day2.event.e")}</td>
            </tr>
          </table>
        </div>
      </div>

      <h2
        class="border-b-2 border-pink-800 pt-8 pb-3 text-3xl font-bold md:text-4xl"
      >
        {t("about.hackit.title")}
      </h2>
      <p class="text-md pt-4 leading-8 md:text-lg">
        {t("about.hackit.content")}
      </p>

      <p class="text-md py-4 text-right font-bold text-green-950 md:text-lg">
        {t("about.hackit.learn.title")}
        <a href="https://hackit.tw" class="text-blue-700 underline"
          >{t("about.hackit.learn.link")}</a
        >
      </p>
    </div>
  </div>
</Layout>

<script>
  window.addEventListener(
    "scroll",
    () => {
      if (window.scrollY > 0) {
        document
          .getElementById("js:hero")
          ?.classList.add("md:rounded-b-3xl", "md:mx-5");
      } else {
        document
          .getElementById("js:hero")
          ?.classList.remove("md:rounded-b-3xl", "md:mx-5");
      }
    },
    true,
  );
</script>
